<!----------Register payment---------->
<div class="popup" id="rppp">
    
    <div class="popupContent" id="rpppContent">

        <div id="rpppNegativeBalance"></div>

        <div class="popupIcons">
            <div class="popupIcon1"><i class="fa-regular fa-credit-card"></i></div>
            <div class="popupClose1" id="rpppClose"><i class="fa-solid fa-rectangle-xmark"></i></div>
        </div>

        
        <div class="popupTitle1" id="rpppTitle"></div>
        <div class="popupSubitle1">REGISTRAR PAGO</div>

        <div class="divInputsColumn mtm mbm">
            <div class="divInput">
                <label class="label1" id="rpppDateLabel">Fecha</label>
                <input type="date" class="input1 il ipm" id="rpppDate">
                <div class="divError"  id="rpppDateError">Debe completar la fecha</div>
            </div>
            <div class="divInput mtm">
                <label class="label1 unabledLabel">Subtotal</label>
                <input type="text" step="0.01" class="input1 il ipm unabledInput" id="rpppSubtotal" readonly>
            </div>
            <div class="divInput mtm">
                <label class="label1 unabledLabel">Descuento %</label>
                <input type="text" step="0.01" class="input1 il ipm unabledInput" id="rpppDiscount" readonly>
            </div>
            <div class="divInput mtm">
                <label class="label1 unabledLabel">Total</label>
                <input type="text" step="0.01" class="input1 il ipm unabledInput" id="rpppTotal" readonly>
            </div>
            <div class="divInput mtm">
                <label class="label1 unabledLabel">Pagado</label>
                <input type="text" step="0.01" class="input1 il ipm unabledInput" id="rpppPaid" readonly>
            </div>
            <div class="divInput mtm">
                <label class="label1 unabledLabel">Pendiente</label>
                <input type="text" step="0.01" class="input1 il ipm unabledInput" id="rpppBalance" readonly>
            </div>
            <div class="divInput mtm">
                <label class="label1 unabledLabel">Saldo a favor</label>
                <input type="text" step="0.01" class="input1 il ipm unabledInput" id="rpppBalanceUsed" readonly>
                <div class="divCheckbox2 notVisible" id="rpppUseBalance">
                    <input type="checkbox" id="rpppUseBalanceCheck">
                    <label id="rpppUseBalanceLabel"></label><br>
                </div>
            </div>
            <div class="divInput mtm">
                <label class="label1" id="rpppPaymentLabel">Abona</label>
                <input type="number" step="0.01" class="input1 il ipm" id="rpppPayment">
                <div class="divError"  id="rpppPaymentError">Debe completar el importe abonado</div>
            </div>
            <div class="divInput mtm">
                <label class="label1" id="rpppPaymentMethodLabel">Forma de pago</label>
                <select class="input1 il ipm" id="rpppPaymentMethod">
                    <option value=""></option>
                    <% paymentMethods.forEach(pm => { %>
                        <% if (pm.enabled == 1) { %>
                            <option value="<%= pm.id %>">
                                <%= pm.payment_method %>
                            </option>
                        <% } %>
                    <% }) %>
                </select>
                <div class="createAttribute">
                    <i class="fa-solid fa-square-plus pointer createAttributeIcon" id="rpppNewPaymentMethod"></i>
                    <div class="createAttributeInfo">Crear forma de pago</div>
                </div>
                <div class="divError" id="rpppPaymentMethodError">Debe seleccionar una forma de pago</div>
            </div>
            <div class="divInput mtm">
                <label class="label1 unabledLabel">Saldo</label>
                <input type="text" step="0.01" class="input1 il ipm unabledInput" id="rpppNewBalance" readonly>                
            </div>
            
            <div class="mts" id="rpppBalanceAlert"></div>
           
        </div>
        <div class="divButtonsRow mbs">
            <div id="rpppAccept" class="button1 bs">Aceptar</div>
            <div id="rpppUnabledAccept" class="unabledButton1 bs">Aceptar</div>
        </div>
    </div>
</div>