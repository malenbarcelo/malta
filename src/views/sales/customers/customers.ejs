<%- include('../../partials/head') %>
<%- include('../../partials/header') %>

    <!------MAIN TITLE------>
    <div class="mainTitle">CLIENTES DIFUSIÓN</div>

    <!------GENERAL ACTIONS------>
    <div class="divGeneralActions" id="DGAcustomers">
        <div class="divGeneralAction" id="DGAcreateCustomer">
            <i class="fa-solid fa-plus"></i>
            <div class="showActionPopup">
                Crear cliente
            </div>        
        </div>
    </div>

    <!------MAIN FILTERS------>
    <div class="mainFilters">
        <div class="divInputsRow">            
            <div class="divInput">
                <label class="label1" id="filterCustomerLabel" >Cliente</label>
                <input type="text" class="input1 ixxl ipl" autocomplete="off" id="filterCustomer">
                <ul class="predictedElements" id="ulPredictedCustomers"></ul>
            </div>
            <div class="divInput">
                <label class="label1" id="filterChannelLabel" >Canal</label>
                <select class="input1 ixs ipl" id="filterChannel">
                    <option value=""></option>
                    <% salesChannels.forEach(sc => { %>
                        <option value="<%= sc.id %>"><%= sc.sales_channel %></option>
                    <% }) %>
                </select>
            </div>
            <div id="unfilter" class="unfilterIcon" >
                <i class="fa-solid fa-filter-circle-xmark"></i>
            </div>
        </div>
    </div>

    <!---------CUSTOMERS TABLE--------->
    <div class="mtm">
        <div class="divTable" id="customersTable">

            <div class="tableInfo" id="ecppInfo">Editar</div>
            <div class="tableInfo" id="dcppInfo">Eliminar</div>
            
            <table>
                <thead>
                    <tr>
                        <th class="theadCss wXL thLeftBorder thTall">Cliente</th>
                        <th class="theadCss wXS thTall">Canal</th>
                        <th class="theadCss wXL thTall">Email</th>
                        <th class="theadCss wL thTall">Domicilio</th>
                        <th class="theadCss wL thTall">Teléfono</th>
                        <th class="theadCss wS thTall">Descuento %</th>
                        <th class="theadCss wXXL thTall">Observaciones</th>
                        <th class="theadCss wXXS thTall"><i class="fa-regular fa-pen-to-square tableIcon" id="ecppIcon"></i></th>
                        <th class="theadCss wXXS thTall thRightBorder"><i class="fa-regular fa-trash-can tableIcon" id="dcppIcon"></i></th>
                    </tr>
                </thead>
                <tbody id="bodyCustomers"></tbody>
            </table>
            
        </div>
        
    </div>

    <!----------LOADER---------->
    <div class="loader" id="customersLoader" ></div>

    <!----------POPUPS---------->
    <%- include('./customersCCPP') %>
    <%- include('../../partials/confirmPopup') %>
    <%- include('../../partials/okPopup') %>

    <!----------SCRIPTS---------->
    <script type="module" src="/js/sales/customers/customers.js"></script>



    


